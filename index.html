<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- ✅ 모바일 확대 방지 -->
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>아쿠아리움_뱀 게임</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div style="text-align: center;">
        <h1 id="title">Aquarium Snake Game</h1>
        <p>
            화살표 키 사용 가능합니다. <br/>
            START 버튼이나 SPACE BAR를 눌러 게임을 시작하세요!
        </p>

        <div id="score_board">
            <span id="best_score">BEST SCORE: 0</span> |
            <span id="my_score">SCORE: 0</span><br>
            
            <!-- 🎮 닉네임 입력 추가 -->
            <input type="text" id="player_name_input" placeholder="닉네임 입력" maxlength="12">
            <button id="save_name_btn">확인</button>
            <div id="player_name_display"></div>
        </div>

        <div id="game_container">
            <canvas id="game_area"></canvas>

            <div id="control_panel">
                <div class="dpad">
                    <button class="btn up">UP</button>
                    <div class="middle-row">
                        <button class="btn left">LEFT</button>
                        <button class="btn right">RIGHT</button>
                    </div>
                    <button class="btn down">DOWN</button>
                </div>

                <div class="startpause">
                    <button id="start">START</button>
                    <button id="pause" disabled>PAUSE</button>
                </div>
            </div>
        </div>

        <p id="copyright">
            제작자: @REAPPEARANCE
        </p>
    </div>

    <!-- 외부 게임 로직 -->
    <script src="script.js"></script>

    <!-- ✅ 확대 방지용 인라인 스크립트 (src 없는 별도 태그여야 함) -->
    <script>
        // 더블탭 확대 방지 (iOS/Safari 대응)
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, { passive: false });

        // 핀치 줌(두 손가락) 방지
        document.addEventListener('touchstart', function (event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        }, { passive: false });

        // 더블클릭 확대 방지 (일부 브라우저)
        document.addEventListener('dblclick', function (event) {
            event.preventDefault();
        }, { passive: false });
    </script>
</body>
</html>
